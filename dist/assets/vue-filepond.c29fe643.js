import{r as u,O as a,c as l,s as f}from"./filepond.f22802e6.js";import{h}from"./@vue.3a7072fa.js";/*!
 * vue-filepond v7.0.3
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2022 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const m=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],b=f(),O=o=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[o],i={},c=[],d=[];let _={};const F=(...o)=>{u(...o),c.length=0;for(const e in a){if(/^on/.test(e)){c.push(e);continue}let t=[String,O(a[e])];e=="labelFileProcessingError"&&t.push(Function),i[e]={type:t,default:void 0}}return{name:"FilePond",props:i,render(){const e=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((t,[s,n])=>(n!==void 0&&(t[s]=n),t),{});return h("div",{class:{"filepond--wrapper":!0}},[h("input",e)])},created(){this.watchers=Object.keys(i).map(e=>this.$watch(e,t=>{this._pond[e]=t}))},mounted(){if(!b)return;this._element=this.$el.querySelector("input");const e=c.reduce((s,n)=>(s[n]=(...r)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(n.substr(2),...r)},s),{}),t={};Object.keys(i).forEach(s=>{this[s]!==void 0&&(t[s]=this[s])}),this._pond=l(this._element,Object.assign({},_,e,t)),Object.keys(this._pond).filter(s=>!m.includes(s)).forEach(s=>{this[s]=this._pond[s]}),d.push(this._pond)},beforeUnmount(){const{detached:e}=this.$options;if(!this.$el.offsetParent){e.call(this);return}const t=(n,r)=>{const p=((n[0]||{}).removedNodes||[])[0];!p||!p.contains(this.$el)||(r.disconnect(),e.call(this))};new MutationObserver(t).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(t=>t()),!this._pond)return;this._pond.destroy();const e=d.indexOf(this._pond);e>=0&&d.splice(e,1),this._pond=null}}};export{F as v};
